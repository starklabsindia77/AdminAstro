"use strict";(self.webpackChunkastroscore=self.webpackChunkastroscore||[]).push([[9599],{18456:function(e,t,r){r.d(t,{Z:function(){return h}});var a=r(1413),n=r(45987),i=r(64554),s=r(20890),o=r(23060),l=r(43504),c=r(93517),d=r(80184),u=["links","activeLast"];function x(e){var t=e.links,r=e.activeLast,o=void 0!==r&&r,l=(0,n.Z)(e,u),x=t[t.length-1].name,p=t.map((function(e){return(0,d.jsx)(m,{link:e},e.name)})),h=t.map((function(e){return(0,d.jsx)("div",{children:e.name!==x?(0,d.jsx)(m,{link:e}):(0,d.jsx)(s.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:x})},e.name)}));return(0,d.jsx)(c.Z,(0,a.Z)((0,a.Z)({separator:(0,d.jsx)(i.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},l),{},{children:o?p:h}))}function m(e){var t=e.link,r=t.href,a=t.name,n=t.icon;return(0,d.jsxs)(o.Z,{variant:"body2",component:l.rU,to:r||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[n&&(0,d.jsx)(i.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:n}),a]},a)}var p=["links","action","heading","moreLink","sx"];function h(e){var t=e.links,r=e.action,l=e.heading,c=e.moreLink,u=void 0===c?[]:c,m=e.sx,h=(0,n.Z)(e,p);return(0,d.jsxs)(i.Z,{sx:(0,a.Z)({mb:5},m),children:[(0,d.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(i.Z,{sx:{flexGrow:1},children:[(0,d.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:l}),(0,d.jsx)(x,(0,a.Z)({links:t},h))]}),r&&(0,d.jsx)(i.Z,{sx:{flexShrink:0},children:r})]}),(0,d.jsx)(i.Z,{sx:{mt:2},children:"string"===typeof u?(0,d.jsx)(o.Z,{href:u,target:"_blank",rel:"noopener",variant:"body2",children:u}):u.map((function(e){return(0,d.jsx)(o.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},99599:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var a=r(15861),n=r(29439),i=r(64687),s=r.n(i),o=r(75952),l=r(72791),c=r(16871),d=r(26445),u=r(38072),x=r(85703),m=r(23434),p=r(25212),h=r(18456),v=r(1413),f=r(62797),b=r(98246),Z=r(61134),g=r(61265),j=r(39709),y=r(61889),w=r(57621),k=r(64554),C=r(20890),S=r(85523),N=r(9955),R=r(53767),q=r(7870),B=r(89731),I=r(77103),L=r(41758),A=r(77353),E=r(80184);function P(e){var t=e.isEdit,r=e.currentExpert,i=(0,c.s0)(),o=(0,l.useState)(),d=(0,n.Z)(o,2),x=d[0],p=d[1],h=(0,b.Ds)().enqueueSnackbar,P=f.Ry().shape({email:f.Z_().required("Email is required").email(),mobileNo:f.Z_().required("Phone number is required"),address:f.Z_().required("Address is required"),country:f.Z_().required("country is required"),firstName:f.Z_().required("First Name is required"),state:f.Z_().required("State is required"),city:f.Z_().required("City is required"),lastName:f.Z_().required("Last Name is required")}),_=(0,l.useMemo)((function(){return{password:"",email:(null===r||void 0===r?void 0:r.email)||"",mobileNo:(null===r||void 0===r?void 0:r.mobileNo)||"",address:(null===r||void 0===r?void 0:r.address)||"",country:(null===r||void 0===r?void 0:r.country)||"",state:(null===r||void 0===r?void 0:r.state)||"",city:(null===r||void 0===r?void 0:r.city)||"",zipCode:(null===r||void 0===r?void 0:r.zipCode)||"",bio:(null===r||void 0===r?void 0:r.bio)||"",skill:(null===r||void 0===r?void 0:r.skill)||"",photoURL:(null===r||void 0===r?void 0:r.photoURL)||"",isVerified:(null===r||void 0===r?void 0:r.isVerified)||!0,status:null===r||void 0===r?void 0:r.status,firstName:(null===r||void 0===r?void 0:r.firstName)||"",lastName:(null===r||void 0===r?void 0:r.lastName)||""}}),[r]),U=(0,Z.cI)({resolver:(0,g.X)(P),defaultValues:_}),z=U.reset,M=U.watch,T=U.control,V=U.setValue,D=U.handleSubmit,F=U.formState.isSubmitting,O=M();(0,l.useEffect)((function(){t&&r&&z(_),t||z(_)}),[t,r]);var W=function(){var e=(0,a.Z)(s().mark((function e(a){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.image=x,a.id=null===r||void 0===r?void 0:r.id,!(n=localStorage.getItem("accessToken"))||!(0,I.w)(n)){e.next=15;break}if((0,I.K)(n),!t){e.next=12;break}return e.next=9,B.Z.put("/expert/".concat(null===r||void 0===r?void 0:r.expertId),a);case 9:e.sent,e.next=15;break;case 12:return e.next=14,B.Z.post("/expert",a);case 14:e.sent;case 15:h(t?"Update success!":"Create success!"),i(u.vB.expert.list),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),G=(0,l.useCallback)((function(e){var t=e[0],r=new FileReader;r.onload=function(){var e=r.result.split(",")[1];p(e)},r.readAsDataURL(t),t&&V("photoURL",Object.assign(t,{preview:URL.createObjectURL(t)}))}),[V]);return(0,E.jsx)(A.RV,{methods:U,onSubmit:D(W),children:(0,E.jsxs)(y.ZP,{container:!0,spacing:3,children:[(0,E.jsx)(y.ZP,{item:!0,xs:12,md:4,children:(0,E.jsxs)(w.Z,{sx:{py:10,px:3},children:[t&&(0,E.jsx)(L.Z,{color:"active"!==O.status?"success":"error",sx:{textTransform:"uppercase",position:"absolute",top:24,right:24},children:"active"===O.status?"Banned":"Active"}),(0,E.jsx)(k.Z,{sx:{mb:5},children:(0,E.jsx)(A.sX,{name:"photoURL",accept:"image/*",maxSize:3145728,onDrop:G,helperText:(0,E.jsxs)(C.Z,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,E.jsx)("br",{})," max size of ",(0,q.oe)(3145728)]})})}),t&&(0,E.jsx)(S.Z,{labelPlacement:"start",control:(0,E.jsx)(Z.Qr,{name:"status",control:T,render:function(e){var t=e.field;return(0,E.jsx)(N.Z,(0,v.Z)((0,v.Z)({},t),{},{checked:"active"!==t.value,onChange:function(e){return t.onChange(e.target.checked?"banned":"active")}}))}}),label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(C.Z,{variant:"subtitle2",sx:{mb:.5},children:"Active"}),(0,E.jsx)(C.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Apply Active account"})]}),sx:{mx:0,mb:3,width:1,justifyContent:"space-between"}}),(0,E.jsx)(A._e,{name:"isVerified",labelPlacement:"start",label:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)(C.Z,{variant:"subtitle2",sx:{mb:.5},children:"Email Verified"}),(0,E.jsx)(C.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Disabling this will automatically send the expert a verification email"})]}),sx:{mx:0,width:1,justifyContent:"space-between"}})]})}),(0,E.jsx)(y.ZP,{item:!0,xs:12,md:8,children:(0,E.jsxs)(w.Z,{sx:{p:3},children:[(0,E.jsxs)(k.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,E.jsx)(A.au,{name:"firstName",label:"First Name"}),(0,E.jsx)(A.au,{name:"lastName",label:"Last Name"}),(0,E.jsx)(A.au,{name:"role",label:"Role",sx:{display:"none"}}),(0,E.jsx)(A.au,{name:"roleId",label:"Role Id",sx:{display:"none"}}),(0,E.jsx)(A.au,{name:"email",label:"Email Address"}),(0,E.jsx)(A.au,{name:"password",label:"Password"}),(0,E.jsx)(A.au,{name:"mobileNo",label:"Phone Number"}),(0,E.jsxs)(A.Cc,{name:"country",label:"Country",placeholder:"Country",children:[(0,E.jsx)("option",{value:""}),m.hW.map((function(e){return(0,E.jsx)("option",{value:e.label,children:e.label},e.code)}))]}),(0,E.jsx)(A.au,{name:"state",label:"State/Region"}),(0,E.jsx)(A.au,{name:"city",label:"City"}),(0,E.jsx)(A.au,{name:"address",label:"Address"}),(0,E.jsx)(A.au,{name:"zipCode",label:"Zip/Code"})]}),(0,E.jsxs)(R.Z,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:[(0,E.jsx)(A.au,{name:"skill",multiline:!0,rows:4,label:"Skill"}),(0,E.jsx)(A.au,{name:"bio",multiline:!0,rows:4,label:"Bio"})]}),(0,E.jsx)(R.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,E.jsx)(j.Z,{type:"submit",variant:"contained",loading:F,children:t?"Save Changes":"Create Expert"})})]})})]})})}function _(){var e=(0,x.Z)().themeStretch,t=(0,c.TH)().pathname,r=(0,c.UO)().name,i=void 0===r?"":r;console.log("id",i);var m=(0,l.useState)({}),v=(0,n.Z)(m,2),f=v[0],b=v[1],Z=t.includes("edit");return(0,l.useEffect)((0,a.Z)(s().mark((function e(){var t,r,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=localStorage.getItem("accessToken"))&&(0,I.w)(t)&&Z)){e.next=8;break}return(0,I.K)(t),e.next=5,B.Z.get("/expert/".concat(i));case 5:r=e.sent,a=r.data.user,b(a);case 8:case"end":return e.stop()}}),e)}))),[i]),(0,E.jsx)(p.Z,{title:"Expert: Create a new expert",children:(0,E.jsxs)(d.Z,{maxWidth:!e&&"lg",children:[(0,E.jsx)(h.Z,{heading:Z?"Edit expert":"Create a new expert",links:[{name:"Dashboard",href:u.vB.root},{name:"Expert",href:u.vB.expert.list},{name:Z?(0,o.I)(i):"New expert"}]}),(0,E.jsx)(P,{isEdit:Z,currentExpert:f})]})})}},93517:function(e,t,r){r.d(t,{Z:function(){return B}});var a=r(93433),n=r(29439),i=r(4942),s=r(87462),o=r(63366),l=r(72791),c=(r(57441),r(28182)),d=r(90767),u=r(47630),x=r(93736),m=r(20890),p=r(12065),h=r(74223),v=r(80184),f=(0,h.Z)((0,v.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),b=r(95080),Z=(0,u.ZP)(b.Z)((function(e){var t=e.theme;return(0,s.Z)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,s.Z)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,s.Z)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,p._4)(t.palette.grey[200],.12)}:{backgroundColor:(0,p._4)(t.palette.grey[600],.12)})})})),g=(0,u.ZP)(f)({width:24,height:16});var j=function(e){var t=e;return(0,v.jsx)("li",{children:(0,v.jsx)(Z,(0,s.Z)({focusRipple:!0},e,{ownerState:t,children:(0,v.jsx)(g,{ownerState:t})}))})},y=r(95159);function w(e){return(0,y.Z)("MuiBreadcrumbs",e)}var k=(0,r(30208).Z)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],S=(0,u.ZP)(m.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,t){return[(0,i.Z)({},"& .".concat(k.li),t.li),t.root]}})({}),N=(0,u.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,t){return t.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),R=(0,u.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,t){return t.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function q(e,t,r,a){return e.reduce((function(n,i,s){return s<e.length-1?n=n.concat(i,(0,v.jsx)(R,{"aria-hidden":!0,className:t,ownerState:a,children:r},"separator-".concat(s))):n.push(i),n}),[])}var B=l.forwardRef((function(e,t){var r=(0,x.Z)({props:e,name:"MuiBreadcrumbs"}),i=r.children,u=r.className,m=r.component,p=void 0===m?"nav":m,h=r.expandText,f=void 0===h?"Show path":h,b=r.itemsAfterCollapse,Z=void 0===b?1:b,g=r.itemsBeforeCollapse,y=void 0===g?1:g,k=r.maxItems,R=void 0===k?8:k,B=r.separator,I=void 0===B?"/":B,L=(0,o.Z)(r,C),A=l.useState(!1),E=(0,n.Z)(A,2),P=E[0],_=E[1],U=(0,s.Z)({},r,{component:p,expanded:P,expandText:f,itemsAfterCollapse:Z,itemsBeforeCollapse:y,maxItems:R,separator:I}),z=function(e){var t=e.classes;return(0,d.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},w,t)}(U),M=l.useRef(null),T=l.Children.toArray(i).filter((function(e){return l.isValidElement(e)})).map((function(e,t){return(0,v.jsx)("li",{className:z.li,children:e},"child-".concat(t))}));return(0,v.jsx)(S,(0,s.Z)({ref:t,component:p,color:"text.secondary",className:(0,c.Z)(z.root,u),ownerState:U},L,{children:(0,v.jsx)(N,{className:z.ol,ref:M,ownerState:U,children:q(P||R&&T.length<=R?T:function(e){return y+Z>=e.length?e:[].concat((0,a.Z)(e.slice(0,y)),[(0,v.jsx)(j,{"aria-label":f,onClick:function(){_(!0);var e=M.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],(0,a.Z)(e.slice(e.length-Z,e.length)))}(T),z.separator,I,U)})}))}))}}]);
//# sourceMappingURL=9599.518f2a40.chunk.js.map