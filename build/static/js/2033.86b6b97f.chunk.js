"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[2033],{18456:function(e,r,t){t.d(r,{Z:function(){return h}});var a=t(1413),n=t(45987),i=t(64554),s=t(20890),l=t(23060),o=t(43504),c=t(93517),d=t(80184),u=["links","activeLast"];function m(e){var r=e.links,t=e.activeLast,l=void 0!==t&&t,o=(0,n.Z)(e,u),m=r[r.length-1].name,p=r.map((function(e){return(0,d.jsx)(x,{link:e},e.name)})),h=r.map((function(e){return(0,d.jsx)("div",{children:e.name!==m?(0,d.jsx)(x,{link:e}):(0,d.jsx)(s.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:m})},e.name)}));return(0,d.jsx)(c.Z,(0,a.Z)((0,a.Z)({separator:(0,d.jsx)(i.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},o),{},{children:l?p:h}))}function x(e){var r=e.link,t=r.href,a=r.name,n=r.icon;return(0,d.jsxs)(l.Z,{variant:"body2",component:o.rU,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[n&&(0,d.jsx)(i.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:n}),a]},a)}var p=["links","action","heading","moreLink","sx"];function h(e){var r=e.links,t=e.action,o=e.heading,c=e.moreLink,u=void 0===c?[]:c,x=e.sx,h=(0,n.Z)(e,p);return(0,d.jsxs)(i.Z,{sx:(0,a.Z)({mb:5},x),children:[(0,d.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(i.Z,{sx:{flexGrow:1},children:[(0,d.jsx)(s.Z,{variant:"h4",gutterBottom:!0,children:o}),(0,d.jsx)(m,(0,a.Z)({links:r},h))]}),t&&(0,d.jsx)(i.Z,{sx:{flexShrink:0},children:t})]}),(0,d.jsx)(i.Z,{sx:{mt:2},children:"string"===typeof u?(0,d.jsx)(l.Z,{href:u,target:"_blank",rel:"noopener",variant:"body2",children:u}):u.map((function(e){return(0,d.jsx)(l.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},42033:function(e,r,t){t.r(r),t.d(r,{default:function(){return L}});var a=t(15861),n=t(29439),i=t(64687),s=t.n(i),l=t(75952),o=t(72791),c=t(16871),d=t(26445),u=t(38072),m=t(85703),x=t(50098),p=t(25212),h=t(18456),v=t(1413),f=t(62797),Z=t(98246),b=t(61134),g=t(61265),j=t(39709),y=t(61889),k=t(57621),w=t(64554),C=t(20890),S=t(85523),N=t(9955),_=t(53767),q=t(7870),R=t(89731),U=t(77103),A=t(41758),B=t(65390),P=t(80184);function I(e){var r=e.isEdit,t=e.currentUser,i=(0,c.s0)(),l=(0,o.useState)(),d=(0,n.Z)(l,2),m=d[0],p=d[1],h=(0,Z.Ds)().enqueueSnackbar,I=f.Ry().shape({name:f.Z_().required("Name is required"),email:f.Z_().required("Email is required").email(),mobileNo:f.Z_().required("Phone number is required"),address:f.Z_().required("Address is required"),country:f.Z_().required("country is required"),firstName:f.Z_().required("First Name is required"),state:f.Z_().required("State is required"),city:f.Z_().required("City is required"),lastName:f.Z_().required("Last Name is required")}),L=(0,o.useMemo)((function(){return{name:(null===t||void 0===t?void 0:t.name)||"",email:(null===t||void 0===t?void 0:t.email)||"",mobileNo:(null===t||void 0===t?void 0:t.mobileNo)||"",address:(null===t||void 0===t?void 0:t.address)||"",country:(null===t||void 0===t?void 0:t.country)||"",state:(null===t||void 0===t?void 0:t.state)||"",city:(null===t||void 0===t?void 0:t.city)||"",zipCode:(null===t||void 0===t?void 0:t.zipCode)||"",avatarUrl:(null===t||void 0===t?void 0:t.avatarUrl)||"",isVerified:(null===t||void 0===t?void 0:t.isVerified)||!0,status:null===t||void 0===t?void 0:t.status,firstName:(null===t||void 0===t?void 0:t.firstName)||"",lastName:(null===t||void 0===t?void 0:t.lastName)||""}}),[t]),z=(0,b.cI)({resolver:(0,g.X)(I),defaultValues:L}),E=z.reset,M=z.watch,T=z.control,V=z.setValue,F=z.handleSubmit,D=z.formState.isSubmitting,O=M();(0,o.useEffect)((function(){r&&t&&E(L),r||E(L)}),[r,t]);var W=function(){var e=(0,a.Z)(s().mark((function e(a){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.image=m,!(n=localStorage.getItem("accessToken"))||!(0,U.w)(n)){e.next=14;break}if((0,U.K)(n),!r){e.next=11;break}return e.next=8,R.Z.put("/user/".concat(null===t||void 0===t?void 0:t.id),a);case 8:e.sent,e.next=14;break;case 11:return e.next=13,R.Z.post("/user",a);case 13:e.sent;case 14:h(r?"Update success!":"Create success!"),i(u.vB.user.list),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(r){return e.apply(this,arguments)}}(),G=(0,o.useCallback)((function(e){var r=e[0],t=new FileReader;t.onload=function(){var e=t.result.split(",")[1];p(e)},t.readAsDataURL(r),r&&V("avatarUrl",Object.assign(r,{preview:URL.createObjectURL(r)}))}),[V]);return(0,P.jsx)(B.RV,{methods:z,onSubmit:F(W),children:(0,P.jsxs)(y.ZP,{container:!0,spacing:3,children:[(0,P.jsx)(y.ZP,{item:!0,xs:12,md:4,children:(0,P.jsxs)(k.Z,{sx:{py:10,px:3},children:[r&&(0,P.jsx)(A.Z,{color:"active"!==O.status?"success":"error",sx:{textTransform:"uppercase",position:"absolute",top:24,right:24},children:"active"===O.status?"Banned":"Active"}),(0,P.jsx)(w.Z,{sx:{mb:5},children:(0,P.jsx)(B.sX,{name:"avatarUrl",accept:"image/*",maxSize:3145728,onDrop:G,helperText:(0,P.jsxs)(C.Z,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,P.jsx)("br",{})," max size of ",(0,q.oe)(3145728)]})})}),r&&(0,P.jsx)(S.Z,{labelPlacement:"start",control:(0,P.jsx)(b.Qr,{name:"status",control:T,render:function(e){var r=e.field;return(0,P.jsx)(N.Z,(0,v.Z)((0,v.Z)({},r),{},{checked:"active"!==r.value,onChange:function(e){return r.onChange(e.target.checked?"banned":"active")}}))}}),label:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(C.Z,{variant:"subtitle2",sx:{mb:.5},children:"Active"}),(0,P.jsx)(C.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Apply Active account"})]}),sx:{mx:0,mb:3,width:1,justifyContent:"space-between"}}),(0,P.jsx)(B._e,{name:"isVerified",labelPlacement:"start",label:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(C.Z,{variant:"subtitle2",sx:{mb:.5},children:"Email Verified"}),(0,P.jsx)(C.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Disabling this will automatically send the user a verification email"})]}),sx:{mx:0,width:1,justifyContent:"space-between"}})]})}),(0,P.jsx)(y.ZP,{item:!0,xs:12,md:8,children:(0,P.jsxs)(k.Z,{sx:{p:3},children:[(0,P.jsxs)(w.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,P.jsx)(B.au,{name:"firstName",label:"First Name"}),(0,P.jsx)(B.au,{name:"lastName",label:"Last Name"}),(0,P.jsx)(B.au,{name:"name",label:"Full Name"}),(0,P.jsx)(B.au,{name:"email",label:"Email Address"}),(0,P.jsx)(B.au,{name:"mobileNo",label:"Phone Number"}),(0,P.jsxs)(B.Cc,{name:"country",label:"Country",placeholder:"Country",children:[(0,P.jsx)("option",{value:""}),x.hW.map((function(e){return(0,P.jsx)("option",{value:e.label,children:e.label},e.code)}))]}),(0,P.jsx)(B.au,{name:"state",label:"State/Region"}),(0,P.jsx)(B.au,{name:"city",label:"City"}),(0,P.jsx)(B.au,{name:"address",label:"Address"}),(0,P.jsx)(B.au,{name:"zipCode",label:"Zip/Code"})]}),(0,P.jsx)(_.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,P.jsx)(j.Z,{type:"submit",variant:"contained",loading:D,children:r?"Save Changes":"Create User"})})]})})]})})}function L(){var e=(0,m.Z)().themeStretch,r=(0,c.TH)().pathname,t=(0,c.UO)().name,i=void 0===t?"":t,x=(0,o.useState)({}),v=(0,n.Z)(x,2),f=v[0],Z=v[1],b=r.includes("edit");return(0,o.useEffect)((0,a.Z)(s().mark((function e(){var r,t,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=localStorage.getItem("accessToken"))&&(0,U.w)(r)&&b)){e.next=8;break}return(0,U.K)(r),e.next=5,R.Z.get("/user/".concat(i));case 5:t=e.sent,a=t.data.user,Z(a);case 8:case"end":return e.stop()}}),e)}))),[i]),(0,P.jsx)(p.Z,{title:"User: Create a new user",children:(0,P.jsxs)(d.Z,{maxWidth:!e&&"lg",children:[(0,P.jsx)(h.Z,{heading:b?"Edit user":"Create a new user",links:[{name:"Dashboard",href:u.vB.root},{name:"User",href:u.vB.user.list},{name:b?(0,l.I)(i):"New user"}]}),(0,P.jsx)(I,{isEdit:b,currentUser:f})]})})}},93517:function(e,r,t){t.d(r,{Z:function(){return R}});var a=t(93433),n=t(29439),i=t(4942),s=t(87462),l=t(63366),o=t(72791),c=(t(57441),t(28182)),d=t(90767),u=t(47630),m=t(93736),x=t(20890),p=t(12065),h=t(74223),v=t(80184),f=(0,h.Z)((0,v.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),Z=t(95080),b=(0,u.ZP)(Z.Z)((function(e){var r=e.theme;return(0,s.Z)({display:"flex",marginLeft:"calc(".concat(r.spacing(1)," * 0.5)"),marginRight:"calc(".concat(r.spacing(1)," * 0.5)")},"light"===r.palette.mode?{backgroundColor:r.palette.grey[100],color:r.palette.grey[700]}:{backgroundColor:r.palette.grey[700],color:r.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,s.Z)({},"light"===r.palette.mode?{backgroundColor:r.palette.grey[200]}:{backgroundColor:r.palette.grey[600]}),"&:active":(0,s.Z)({boxShadow:r.shadows[0]},"light"===r.palette.mode?{backgroundColor:(0,p._4)(r.palette.grey[200],.12)}:{backgroundColor:(0,p._4)(r.palette.grey[600],.12)})})})),g=(0,u.ZP)(f)({width:24,height:16});var j=function(e){var r=e;return(0,v.jsx)("li",{children:(0,v.jsx)(b,(0,s.Z)({focusRipple:!0},e,{ownerState:r,children:(0,v.jsx)(g,{ownerState:r})}))})},y=t(95159);function k(e){return(0,y.Z)("MuiBreadcrumbs",e)}var w=(0,t(30208).Z)("MuiBreadcrumbs",["root","ol","li","separator"]),C=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],S=(0,u.ZP)(x.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,r){return[(0,i.Z)({},"& .".concat(w.li),r.li),r.root]}})({}),N=(0,u.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,r){return r.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),_=(0,u.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,r){return r.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function q(e,r,t,a){return e.reduce((function(n,i,s){return s<e.length-1?n=n.concat(i,(0,v.jsx)(_,{"aria-hidden":!0,className:r,ownerState:a,children:t},"separator-".concat(s))):n.push(i),n}),[])}var R=o.forwardRef((function(e,r){var t=(0,m.Z)({props:e,name:"MuiBreadcrumbs"}),i=t.children,u=t.className,x=t.component,p=void 0===x?"nav":x,h=t.expandText,f=void 0===h?"Show path":h,Z=t.itemsAfterCollapse,b=void 0===Z?1:Z,g=t.itemsBeforeCollapse,y=void 0===g?1:g,w=t.maxItems,_=void 0===w?8:w,R=t.separator,U=void 0===R?"/":R,A=(0,l.Z)(t,C),B=o.useState(!1),P=(0,n.Z)(B,2),I=P[0],L=P[1],z=(0,s.Z)({},t,{component:p,expanded:I,expandText:f,itemsAfterCollapse:b,itemsBeforeCollapse:y,maxItems:_,separator:U}),E=function(e){var r=e.classes;return(0,d.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},k,r)}(z),M=o.useRef(null),T=o.Children.toArray(i).filter((function(e){return o.isValidElement(e)})).map((function(e,r){return(0,v.jsx)("li",{className:E.li,children:e},"child-".concat(r))}));return(0,v.jsx)(S,(0,s.Z)({ref:r,component:p,color:"text.secondary",className:(0,c.Z)(E.root,u),ownerState:z},A,{children:(0,v.jsx)(N,{className:E.ol,ref:M,ownerState:z,children:q(I||_&&T.length<=_?T:function(e){return y+b>=e.length?e:[].concat((0,a.Z)(e.slice(0,y)),[(0,v.jsx)(j,{"aria-label":f,onClick:function(){L(!0);var e=M.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],(0,a.Z)(e.slice(e.length-b,e.length)))}(T),E.separator,U,z)})}))}))}}]);
//# sourceMappingURL=2033.86b6b97f.chunk.js.map