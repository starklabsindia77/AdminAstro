"use strict";(self.webpackChunk_minimal_minimal_kit_react=self.webpackChunk_minimal_minimal_kit_react||[]).push([[6337],{18456:function(e,n,a){a.d(n,{Z:function(){return p}});var i=a(1413),s=a(45987),r=a(64554),t=a(20890),o=a(23060),l=a(43504),c=a(93517),d=a(80184),u=["links","activeLast"];function m(e){var n=e.links,a=e.activeLast,o=void 0!==a&&a,l=(0,s.Z)(e,u),m=n[n.length-1].name,h=n.map((function(e){return(0,d.jsx)(x,{link:e},e.name)})),p=n.map((function(e){return(0,d.jsx)("div",{children:e.name!==m?(0,d.jsx)(x,{link:e}):(0,d.jsx)(t.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:m})},e.name)}));return(0,d.jsx)(c.Z,(0,i.Z)((0,i.Z)({separator:(0,d.jsx)(r.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},l),{},{children:o?h:p}))}function x(e){var n=e.link,a=n.href,i=n.name,s=n.icon;return(0,d.jsxs)(o.Z,{variant:"body2",component:l.rU,to:a||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[s&&(0,d.jsx)(r.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:s}),i]},i)}var h=["links","action","heading","moreLink","sx"];function p(e){var n=e.links,a=e.action,l=e.heading,c=e.moreLink,u=void 0===c?[]:c,x=e.sx,p=(0,s.Z)(e,h);return(0,d.jsxs)(r.Z,{sx:(0,i.Z)({mb:5},x),children:[(0,d.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(r.Z,{sx:{flexGrow:1},children:[(0,d.jsx)(t.Z,{variant:"h4",gutterBottom:!0,children:l}),(0,d.jsx)(m,(0,i.Z)({links:n},p))]}),a&&(0,d.jsx)(r.Z,{sx:{flexShrink:0},children:a})]}),(0,d.jsx)(r.Z,{sx:{mt:2},children:"string"===typeof u?(0,d.jsx)(o.Z,{href:u,target:"_blank",rel:"noopener",variant:"body2",children:u}):u.map((function(e){return(0,d.jsx)(o.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},73024:function(e,n,a){a.d(n,{Z:function(){return r}});var i=a(29439),s=a(72791);function r(e){var n=(0,s.useState)(e||""),a=(0,i.Z)(n,2),r=a[0],t=a[1];return{currentTab:r,onChangeTab:function(e,n){t(n)},setCurrentTab:t}}},96337:function(e,n,a){a.r(n),a.d(n,{default:function(){return B}});var i=a(15861),s=a(29439),r=a(64687),t=a.n(r),o=a(75952),l=a(72791),c=a(26445),d=a(2101),u=a(43896),m=a(64554),x=a(38072),h=a(73024),p=a(85703),v=a(50098),f=a(25212),b=a(53026),j=a(18456),Z=a(80184);a(5977);var g=a(7870);var w=a(62797),y=a(98246),k=a(61265),P=a(61134),S=a(57621),C=a(53767),N=a(39709),_=a(65390);function R(){var e=(0,y.Ds)().enqueueSnackbar,n=w.Ry().shape({oldPassword:w.Z_().required("Old Password is required"),newPassword:w.Z_().min(6,"Password must be at least 6 characters").required("New Password is required"),confirmNewPassword:w.Z_().oneOf([w.iH("newPassword"),null],"Passwords must match")}),a=(0,P.cI)({resolver:(0,k.X)(n),defaultValues:{oldPassword:"",newPassword:"",confirmNewPassword:""}}),s=a.reset,r=a.handleSubmit,o=a.formState.isSubmitting,l=function(){var n=(0,i.Z)(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:s(),e("Update success!"),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return(0,Z.jsx)(S.Z,{sx:{p:3},children:(0,Z.jsx)(_.RV,{methods:a,onSubmit:r(l),children:(0,Z.jsxs)(C.Z,{spacing:3,alignItems:"flex-end",children:[(0,Z.jsx)(_.au,{name:"oldPassword",type:"password",label:"Old Password"}),(0,Z.jsx)(_.au,{name:"newPassword",type:"password",label:"New Password"}),(0,Z.jsx)(_.au,{name:"confirmNewPassword",type:"password",label:"Confirm New Password"}),(0,Z.jsx)(N.Z,{type:"submit",variant:"contained",loading:o,children:"Save Changes"})]})})})}var A=a(61889),L=a(20890),U=a(17834),I=a(89731),T=a(77103);function q(e){var n=e.user,a=((0,y.Ds)().enqueueSnackbar,(0,l.useState)()),r=(0,s.Z)(a,2),o=r[0],c=r[1];(0,l.useEffect)((function(){c({displayName:(null===n||void 0===n?void 0:n.displayName)||"",email:(null===n||void 0===n?void 0:n.email)||"",photoURL:(null===n||void 0===n?void 0:n.photoURL)||"",mobileNo:(null===n||void 0===n?void 0:n.mobileNo)||"",country:(null===n||void 0===n?void 0:n.country)||"",address:(null===n||void 0===n?void 0:n.address)||"",state:(null===n||void 0===n?void 0:n.state)||"",city:(null===n||void 0===n?void 0:n.city)||"",zipCode:(null===n||void 0===n?void 0:n.zipCode)||"",bio:(null===n||void 0===n?void 0:n.bio)||"",skill:(null===n||void 0===n?void 0:n.skill)||"",isPublic:(null===n||void 0===n?void 0:n.isPublic)||!1})}),[n.expertId]);var d=w.Ry().shape({displayName:w.Z_().required("Name is required")});console.log("values",o);var u=(0,P.cI)({resolver:(0,k.X)(d),defaultValues:o}),x=u.setValue,h=u.handleSubmit,p=u.formState.isSubmitting,f=function(){var e=(0,i.Z)(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("update Data",n);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),b=(0,l.useCallback)((function(e){var n=e[0];n&&x("photoURL",Object.assign(n,{preview:URL.createObjectURL(n)}))}),[x]);return(0,Z.jsx)(_.RV,{methods:u,onSubmit:h(f),children:(0,Z.jsxs)(A.ZP,{container:!0,spacing:3,children:[(0,Z.jsx)(A.ZP,{item:!0,xs:12,md:4,children:(0,Z.jsxs)(S.Z,{sx:{py:10,px:3,textAlign:"center"},children:[(0,Z.jsx)(_.sX,{name:"photoURL",accept:"image/*",maxSize:3145728,onDrop:b,helperText:(0,Z.jsxs)(L.Z,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",(0,Z.jsx)("br",{})," max size of ",(0,g.oe)(3145728)]})}),(0,Z.jsx)(_._e,{name:"isPublic",labelPlacement:"start",label:"Public Profile",sx:{mt:5}})]})}),(0,Z.jsx)(A.ZP,{item:!0,xs:12,md:8,children:(0,Z.jsxs)(S.Z,{sx:{p:3},children:[(0,Z.jsxs)(m.Z,{sx:{display:"grid",rowGap:3,columnGap:2,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"}},children:[(0,Z.jsx)(_.au,{name:"displayName",label:"Name",value:null===o||void 0===o?void 0:o.displayName}),(0,Z.jsx)(_.au,{name:"email",label:"Email Address",value:null===o||void 0===o?void 0:o.email}),(0,Z.jsx)(_.au,{name:"mobileNo",label:"Phone Number",value:null===o||void 0===o?void 0:o.mobileNo}),(0,Z.jsx)(_.au,{name:"address",label:"Address",value:null===o||void 0===o?void 0:o.address}),(0,Z.jsxs)(_.Cc,{name:"country",label:"Country",placeholder:"Country",children:[(0,Z.jsx)("option",{value:""}),v.hW.map((function(e){return(0,Z.jsx)("option",{value:e.label,children:e.label},e.code)}))]}),(0,Z.jsx)(_.au,{name:"state",label:"State/Region"}),(0,Z.jsx)(_.au,{name:"city",label:"City"}),(0,Z.jsx)(_.au,{name:"zipCode",label:"Zip/Code"})]}),(0,Z.jsxs)(C.Z,{spacing:3,alignItems:"flex-end",sx:{mt:3},children:["Admin"!==n.role?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(_.au,{name:"skill",multiline:!0,rows:4,label:"Skill"}),(0,Z.jsx)(_.au,{name:"bio",multiline:!0,rows:4,label:"Bio"})]}):null,(0,Z.jsx)(N.Z,{type:"submit",variant:"contained",loading:p,children:"Save Changes"})]})]})})]})})}b.Z,b.Z,b.Z,b.Z;function B(){var e=(0,p.Z)().themeStretch,n=(0,U.Z)().user,a=(0,l.useState)({}),r=(0,s.Z)(a,2),v=r[0],g=r[1],w=(0,l.useState)([{value:"general",icon:(0,Z.jsx)(b.Z,{icon:"ic:round-account-box",width:20,height:20}),component:(0,Z.jsx)(q,{user:"Admin"===n.role?n:v})},{value:"change_password",icon:(0,Z.jsx)(b.Z,{icon:"ic:round-vpn-key",width:20,height:20}),component:(0,Z.jsx)(R,{})}]),y=(0,s.Z)(w,2),k=y[0],P=y[1];(0,l.useEffect)((0,i.Z)(t().mark((function e(){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("accessToken"),console.log("test Effect",n),!a||!(0,T.w)(a)||"Admin"===n.role){e.next=9;break}return(0,T.K)(a),e.next=6,I.Z.get("/expert/".concat(n.id));case 6:i=e.sent,console.log("res1",i),g(i.data.user);case 9:case"end":return e.stop()}}),e)}))),[n.id]),(0,l.useEffect)((function(){P([{value:"general",icon:(0,Z.jsx)(b.Z,{icon:"ic:round-account-box",width:20,height:20}),component:(0,Z.jsx)(q,{user:"Admin"===n.role?n:v})},{value:"change_password",icon:(0,Z.jsx)(b.Z,{icon:"ic:round-vpn-key",width:20,height:20}),component:(0,Z.jsx)(R,{})}])}),[v]);var S=(0,h.Z)("general"),C=S.currentTab,N=S.onChangeTab;b.Z,n.role,b.Z;return(0,Z.jsx)(f.Z,{title:"User: Account Settings",children:(0,Z.jsxs)(c.Z,{maxWidth:!e&&"lg",children:[(0,Z.jsx)(j.Z,{heading:"Account",links:[{name:"Dashboard",href:x.vB.root},{name:"User",href:x.vB.user.root},{name:"Account Settings"}]}),(0,Z.jsx)(d.Z,{allowScrollButtonsMobile:!0,variant:"scrollable",scrollButtons:"auto",value:C,onChange:N,children:k.map((function(e){return(0,Z.jsx)(u.Z,{disableRipple:!0,label:(0,o.I)(e.value),icon:e.icon,value:e.value},e.value)}))}),(0,Z.jsx)(m.Z,{sx:{mb:5}}),k.map((function(e){return e.value===C&&(0,Z.jsx)(m.Z,{children:e.component},e.value)}))]})})}}}]);
//# sourceMappingURL=6337.71892894.chunk.js.map