"use strict";(self.webpackChunkastroscore=self.webpackChunkastroscore||[]).push([[6153],{18456:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(1413),r=n(45987),s=n(64554),i=n(20890),o=n(23060),l=n(43504),d=n(93517),c=n(80184),x=["links","activeLast"];function u(e){var t=e.links,n=e.activeLast,o=void 0!==n&&n,l=(0,r.Z)(e,x),u=t[t.length-1].name,h=t.map((function(e){return(0,c.jsx)(m,{link:e},e.name)})),p=t.map((function(e){return(0,c.jsx)("div",{children:e.name!==u?(0,c.jsx)(m,{link:e}):(0,c.jsx)(i.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:u})},e.name)}));return(0,c.jsx)(d.Z,(0,a.Z)((0,a.Z)({separator:(0,c.jsx)(s.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},l),{},{children:o?h:p}))}function m(e){var t=e.link,n=t.href,a=t.name,r=t.icon;return(0,c.jsxs)(o.Z,{variant:"body2",component:l.rU,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[r&&(0,c.jsx)(s.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:r}),a]},a)}var h=["links","action","heading","moreLink","sx"];function p(e){var t=e.links,n=e.action,l=e.heading,d=e.moreLink,x=void 0===d?[]:d,m=e.sx,p=(0,r.Z)(e,h);return(0,c.jsxs)(s.Z,{sx:(0,a.Z)({mb:5},m),children:[(0,c.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsxs)(s.Z,{sx:{flexGrow:1},children:[(0,c.jsx)(i.Z,{variant:"h4",gutterBottom:!0,children:l}),(0,c.jsx)(u,(0,a.Z)({links:t},p))]}),n&&(0,c.jsx)(s.Z,{sx:{flexShrink:0},children:n})]}),(0,c.jsx)(s.Z,{sx:{mt:2},children:"string"===typeof x?(0,c.jsx)(o.Z,{href:x,target:"_blank",rel:"noopener",variant:"body2",children:x}):x.map((function(e){return(0,c.jsx)(o.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},96153:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var a=n(29439),r=n(75952),s=n(72791),i=n(16871),o=n(26445),l=n(38072),d=n(85703),c=(n(50098),n(25212)),x=n(18456),u=n(1413),m=n(15861),h=n(64687),p=n.n(h),f=(n(62797),n(97892),n(98246)),v=n(61134),j=n(39709),Z=n(61889),y=n(57621),b=n(64554),g=n(20890),w=n(27760),C=n(53767),k=n(94721),S=n(36151),T=n(9073),I=n(84050),D=n(24109),B=n(53026),P=(n(7870),n(89731)),R=n(77103),M=(n(41758),n(65390)),_=n(80184);function F(e){var t=e.isEdit,n=e.currentSessions,a=(0,i.s0)(),r=(0,f.Ds)().enqueueSnackbar,o=(0,s.useMemo)((function(){return{slot:(null===n||void 0===n?void 0:n.slot)||[{startTime:"",endTime:""}],startDate:(null===n||void 0===n?void 0:n.startDate)||"",endDate:(null===n||void 0===n?void 0:n.endDate)||"",TimeInterval:(null===n||void 0===n?void 0:n.TimeInterval)||"",monday:(null===n||void 0===n?void 0:n.monday)||!1,tuesday:(null===n||void 0===n?void 0:n.tuesday)||!1,wednesday:(null===n||void 0===n?void 0:n.wednesday)||!1,thursday:(null===n||void 0===n?void 0:n.thursday)||!1,friday:(null===n||void 0===n?void 0:n.friday)||!1,saturday:(null===n||void 0===n?void 0:n.saturday)||!1,sunday:(null===n||void 0===n?void 0:n.sunday)||!1}}),[n]),d=new Date,c=(0,v.cI)({defaultValues:o}),x=c.reset,h=c.watch,F=c.control,E=c.setValue,N=c.handleSubmit,z=c.formState.isSubmitting,A=h(),L=(0,v.Dq)({control:F,name:"slot"}),G=L.fields,O=L.append,W=L.remove;(0,s.useEffect)((function(){t&&n&&x(o),t||x(o)}),[t,n]);var V=function(){var e=(0,m.Z)(p().mark((function e(n){var s,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=localStorage.getItem("accessToken"))||!(0,R.w)(i)){e.next=10;break}if((0,R.K)(i),!t){e.next=7;break}e.next=10;break;case 7:return e.next=9,P.Z.post("/sessions",n);case 9:s=e.sent;case 10:200===s.status&&(r(t?"Update success!":"Create success!"),a(l.vB.sessions.list)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return(0,_.jsx)(M.RV,{methods:c,onSubmit:N(V),children:(0,_.jsxs)(Z.ZP,{container:!0,spacing:3,children:[(0,_.jsx)(Z.ZP,{item:!0,xs:12,md:2}),(0,_.jsx)(Z.ZP,{item:!0,xs:12,md:8,children:(0,_.jsxs)(y.Z,{sx:{p:3},children:[(0,_.jsxs)(b.Z,{sx:{p:3},children:[(0,_.jsx)(g.Z,{variant:"h6",sx:{color:"text.disabled",mb:1.5},children:"Date Range"}),(0,_.jsx)(b.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},marginBottom:"10px"},children:(0,_.jsxs)(T._,{dateAdapter:I.y,children:[(0,_.jsx)(D.M,{views:["day"],name:"startDate",label:"Start Date",value:A.startDate,onChange:function(e){E("startDate",e)},minDate:d,renderInput:function(e){return(0,_.jsx)(w.Z,(0,u.Z)((0,u.Z)({},e),{},{helperText:null}))}}),(0,_.jsx)(D.M,{views:["day"],name:"endDate",label:"End Date",value:A.endDate,onChange:function(e){E("endDate",e)},minDate:d,renderInput:function(e){return(0,_.jsx)(w.Z,(0,u.Z)((0,u.Z)({},e),{},{helperText:null}))}})]})}),(0,_.jsx)(M.au,{name:"TimeInterval",label:"Time Interval",sx:{marginBottom:"10px"}}),(0,_.jsx)(g.Z,{variant:"h6",sx:{color:"text.disabled",mb:1.5},children:"Week Days"}),(0,_.jsxs)(b.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"}},children:[(0,_.jsx)(M._e,{name:"monday",labelPlacement:"start",label:(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Monday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,_.jsx)(M._e,{name:"tuesday",labelPlacement:"start",label:(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Tuesday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,_.jsx)(M._e,{name:"wednesday",labelPlacement:"start",label:(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"wednesday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,_.jsx)(M._e,{name:"thursday",labelPlacement:"start",label:(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Thursday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,_.jsx)(M._e,{name:"friday",labelPlacement:"start",label:(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Friday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,_.jsx)(M._e,{name:"saturday",labelPlacement:"start",label:(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Saturday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,_.jsx)(M._e,{name:"sunday",labelPlacement:"start",label:(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Sunday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}})]})]}),(0,_.jsxs)(b.Z,{sx:{p:3},children:[(0,_.jsx)(g.Z,{variant:"h6",sx:{color:"text.disabled",mb:3},children:"Time Options:"}),(0,_.jsx)(C.Z,{divider:(0,_.jsx)(k.Z,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:3,children:G.map((function(e,t){return(0,_.jsxs)(C.Z,{alignItems:"flex-end",spacing:1.5,children:[(0,_.jsxs)(C.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:1},children:[(0,_.jsx)(M.Cm,{value:A.slot[t].startTime,onChange:function(e){E("slot[".concat(t,"].startTime"),e)},name:"slot[".concat(t,"].startTime"),label:"Start Time"}),(0,_.jsx)(M.Cm,{value:A.slot[t].endTime,onChange:function(e){E("slot[".concat(t,"].endTime"),e)},name:"slot[".concat(t,"].endTime"),label:"End Time"})]}),(0,_.jsx)(S.Z,{size:"small",color:"error",startIcon:(0,_.jsx)(B.Z,{icon:"eva:trash-2-outline"}),onClick:function(){return function(e){W(e)}(t)},children:"Remove"})]},e.id)}))}),(0,_.jsx)(k.Z,{sx:{my:3,borderStyle:"dashed"}}),(0,_.jsx)(C.Z,{spacing:2,direction:{xs:"column-reverse",md:"row"},alignItems:{xs:"flex-start",md:"center"},children:(0,_.jsx)(S.Z,{size:"small",startIcon:(0,_.jsx)(B.Z,{icon:"eva:plus-fill"}),onClick:function(){O({startTime:"",endTime:""})},sx:{flexShrink:0},children:"Add new Option"})})]}),(0,_.jsx)(C.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,_.jsx)(j.Z,{type:"submit",variant:"contained",loading:z,children:t?"Save Changes":"Create Sessions"})})]})})]})})}function E(){var e=(0,d.Z)().themeStretch,t=(0,i.TH)().pathname,n=(0,i.UO)().name,u=void 0===n?"":n,m=(0,s.useState)({}),h=(0,a.Z)(m,2),p=h[0],f=(h[1],t.includes("edit"));return(0,_.jsx)(c.Z,{title:"Sessions: Create a new Sessions",children:(0,_.jsxs)(o.Z,{maxWidth:!e&&"lg",children:[(0,_.jsx)(x.Z,{heading:f?"Edit sessions":"Create a new sessions",links:[{name:"Dashboard",href:l.vB.root},{name:"Sessions",href:l.vB.sessions.list},{name:f?(0,r.I)(u):"New sessions"}]}),(0,_.jsx)(F,{isEdit:f,currentSessions:p})]})})}},93517:function(e,t,n){n.d(t,{Z:function(){return B}});var a=n(93433),r=n(29439),s=n(4942),i=n(87462),o=n(63366),l=n(72791),d=(n(57441),n(28182)),c=n(90767),x=n(47630),u=n(93736),m=n(20890),h=n(12065),p=n(74223),f=n(80184),v=(0,p.Z)((0,f.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),j=n(95080),Z=(0,x.ZP)(j.Z)((function(e){var t=e.theme;return(0,i.Z)({display:"flex",marginLeft:"calc(".concat(t.spacing(1)," * 0.5)"),marginRight:"calc(".concat(t.spacing(1)," * 0.5)")},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,i.Z)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,i.Z)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,h._4)(t.palette.grey[200],.12)}:{backgroundColor:(0,h._4)(t.palette.grey[600],.12)})})})),y=(0,x.ZP)(v)({width:24,height:16});var b=function(e){var t=e;return(0,f.jsx)("li",{children:(0,f.jsx)(Z,(0,i.Z)({focusRipple:!0},e,{ownerState:t,children:(0,f.jsx)(y,{ownerState:t})}))})},g=n(95159);function w(e){return(0,g.Z)("MuiBreadcrumbs",e)}var C=(0,n(30208).Z)("MuiBreadcrumbs",["root","ol","li","separator"]),k=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],S=(0,x.ZP)(m.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,t){return[(0,s.Z)({},"& .".concat(C.li),t.li),t.root]}})({}),T=(0,x.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,t){return t.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),I=(0,x.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,t){return t.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function D(e,t,n,a){return e.reduce((function(r,s,i){return i<e.length-1?r=r.concat(s,(0,f.jsx)(I,{"aria-hidden":!0,className:t,ownerState:a,children:n},"separator-".concat(i))):r.push(s),r}),[])}var B=l.forwardRef((function(e,t){var n=(0,u.Z)({props:e,name:"MuiBreadcrumbs"}),s=n.children,x=n.className,m=n.component,h=void 0===m?"nav":m,p=n.expandText,v=void 0===p?"Show path":p,j=n.itemsAfterCollapse,Z=void 0===j?1:j,y=n.itemsBeforeCollapse,g=void 0===y?1:y,C=n.maxItems,I=void 0===C?8:C,B=n.separator,P=void 0===B?"/":B,R=(0,o.Z)(n,k),M=l.useState(!1),_=(0,r.Z)(M,2),F=_[0],E=_[1],N=(0,i.Z)({},n,{component:h,expanded:F,expandText:v,itemsAfterCollapse:Z,itemsBeforeCollapse:g,maxItems:I,separator:P}),z=function(e){var t=e.classes;return(0,c.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},w,t)}(N),A=l.useRef(null),L=l.Children.toArray(s).filter((function(e){return l.isValidElement(e)})).map((function(e,t){return(0,f.jsx)("li",{className:z.li,children:e},"child-".concat(t))}));return(0,f.jsx)(S,(0,i.Z)({ref:t,component:h,color:"text.secondary",className:(0,d.Z)(z.root,x),ownerState:N},R,{children:(0,f.jsx)(T,{className:z.ol,ref:A,ownerState:N,children:D(F||I&&L.length<=I?L:function(e){return g+Z>=e.length?e:[].concat((0,a.Z)(e.slice(0,g)),[(0,f.jsx)(b,{"aria-label":v,onClick:function(){E(!0);var e=A.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],(0,a.Z)(e.slice(e.length-Z,e.length)))}(L),z.separator,P,N)})}))}))}}]);
//# sourceMappingURL=6153.9aab366c.chunk.js.map