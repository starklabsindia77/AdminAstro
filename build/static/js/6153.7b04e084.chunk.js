"use strict";(self.webpackChunkastroscore=self.webpackChunkastroscore||[]).push([[6153],{18456:function(e,n,t){t.d(n,{Z:function(){return v}});var s=t(1413),a=t(45987),r=t(64554),i=t(20890),l=t(23060),o=t(43504),d=t(93517),c=t(80184),x=["links","activeLast"];function m(e){var n=e.links,t=e.activeLast,l=void 0!==t&&t,o=(0,a.Z)(e,x),m=n[n.length-1].name,h=n.map((function(e){return(0,c.jsx)(u,{link:e},e.name)})),v=n.map((function(e){return(0,c.jsx)("div",{children:e.name!==m?(0,c.jsx)(u,{link:e}):(0,c.jsx)(i.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:m})},e.name)}));return(0,c.jsx)(d.Z,(0,s.Z)((0,s.Z)({separator:(0,c.jsx)(r.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},o),{},{children:l?h:v}))}function u(e){var n=e.link,t=n.href,s=n.name,a=n.icon;return(0,c.jsxs)(l.Z,{variant:"body2",component:o.rU,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[a&&(0,c.jsx)(r.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:a}),s]},s)}var h=["links","action","heading","moreLink","sx"];function v(e){var n=e.links,t=e.action,o=e.heading,d=e.moreLink,x=void 0===d?[]:d,u=e.sx,v=(0,a.Z)(e,h);return(0,c.jsxs)(r.Z,{sx:(0,s.Z)({mb:5},u),children:[(0,c.jsxs)(r.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,c.jsxs)(r.Z,{sx:{flexGrow:1},children:[(0,c.jsx)(i.Z,{variant:"h4",gutterBottom:!0,children:o}),(0,c.jsx)(m,(0,s.Z)({links:n},v))]}),t&&(0,c.jsx)(r.Z,{sx:{flexShrink:0},children:t})]}),(0,c.jsx)(r.Z,{sx:{mt:2},children:"string"===typeof x?(0,c.jsx)(l.Z,{href:x,target:"_blank",rel:"noopener",variant:"body2",children:x}):x.map((function(e){return(0,c.jsx)(l.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},96153:function(e,n,t){t.r(n),t.d(n,{default:function(){return L}});var s=t(29439),a=t(75952),r=t(72791),i=t(16871),l=t(26445),o=t(38072),d=t(85703),c=(t(23434),t(25212)),x=t(18456),m=t(1413),u=t(15861),h=t(64687),v=t.n(h),j=(t(62797),t(97892),t(98246)),p=t(61134),f=t(39709),y=t(61889),b=t(57621),Z=t(64554),g=t(20890),w=t(27760),k=t(53767),T=t(94721),C=t(36151),S=t(9073),D=t(84050),I=t(24109),P=t(53026),_=(t(7870),t(89731)),F=t(77103),B=(t(41758),t(77353)),E=t(80184);function G(e){var n=e.isEdit,t=e.currentSessions,s=(0,i.s0)(),a=(0,j.Ds)().enqueueSnackbar,l=(0,r.useMemo)((function(){return{slot:(null===t||void 0===t?void 0:t.slot)||[{startTime:"",endTime:""}],startDate:(null===t||void 0===t?void 0:t.startDate)||"",endDate:(null===t||void 0===t?void 0:t.endDate)||"",TimeInterval:(null===t||void 0===t?void 0:t.TimeInterval)||"",monday:(null===t||void 0===t?void 0:t.monday)||!1,tuesday:(null===t||void 0===t?void 0:t.tuesday)||!1,wednesday:(null===t||void 0===t?void 0:t.wednesday)||!1,thursday:(null===t||void 0===t?void 0:t.thursday)||!1,friday:(null===t||void 0===t?void 0:t.friday)||!1,saturday:(null===t||void 0===t?void 0:t.saturday)||!1,sunday:(null===t||void 0===t?void 0:t.sunday)||!1}}),[t]),d=new Date,c=(0,p.cI)({defaultValues:l}),x=c.reset,h=c.watch,G=c.control,L=c.setValue,M=c.handleSubmit,O=c.formState.isSubmitting,R=h(),W=(0,p.Dq)({control:G,name:"slot"}),U=W.fields,V=W.append,q=W.remove;(0,r.useEffect)((function(){n&&t&&x(l),n||x(l)}),[n,t]);var z=function(){var e=(0,u.Z)(v().mark((function e(t){var r,i;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(i=localStorage.getItem("accessToken"))||!(0,F.w)(i)){e.next=10;break}if((0,F.K)(i),!n){e.next=7;break}e.next=10;break;case 7:return e.next=9,_.Z.post("/sessions",t);case 9:r=e.sent;case 10:200===r.status&&(a(n?"Update success!":"Create success!"),s(o.vB.sessions.list)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("error",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}();return(0,E.jsx)(B.RV,{methods:c,onSubmit:M(z),children:(0,E.jsxs)(y.ZP,{container:!0,spacing:3,children:[(0,E.jsx)(y.ZP,{item:!0,xs:12,md:2}),(0,E.jsx)(y.ZP,{item:!0,xs:12,md:8,children:(0,E.jsxs)(b.Z,{sx:{p:3},children:[(0,E.jsxs)(Z.Z,{sx:{p:3},children:[(0,E.jsx)(g.Z,{variant:"h6",sx:{color:"text.disabled",mb:1.5},children:"Date Range"}),(0,E.jsx)(Z.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},marginBottom:"10px"},children:(0,E.jsxs)(S._,{dateAdapter:D.y,children:[(0,E.jsx)(I.M,{views:["day"],name:"startDate",label:"Start Date",value:R.startDate,onChange:function(e){L("startDate",e)},minDate:d,renderInput:function(e){return(0,E.jsx)(w.Z,(0,m.Z)((0,m.Z)({},e),{},{helperText:null}))}}),(0,E.jsx)(I.M,{views:["day"],name:"endDate",label:"End Date",value:R.endDate,onChange:function(e){L("endDate",e)},minDate:d,renderInput:function(e){return(0,E.jsx)(w.Z,(0,m.Z)((0,m.Z)({},e),{},{helperText:null}))}})]})}),(0,E.jsx)(B.au,{name:"TimeInterval",label:"Time Interval",sx:{marginBottom:"10px"}}),(0,E.jsx)(g.Z,{variant:"h6",sx:{color:"text.disabled",mb:1.5},children:"Week Days"}),(0,E.jsxs)(Z.Z,{sx:{display:"grid",columnGap:2,rowGap:3,gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"}},children:[(0,E.jsx)(B._e,{name:"monday",labelPlacement:"start",label:(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Monday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,E.jsx)(B._e,{name:"tuesday",labelPlacement:"start",label:(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Tuesday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,E.jsx)(B._e,{name:"wednesday",labelPlacement:"start",label:(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"wednesday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,E.jsx)(B._e,{name:"thursday",labelPlacement:"start",label:(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Thursday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,E.jsx)(B._e,{name:"friday",labelPlacement:"start",label:(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Friday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,E.jsx)(B._e,{name:"saturday",labelPlacement:"start",label:(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Saturday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}}),(0,E.jsx)(B._e,{name:"sunday",labelPlacement:"start",label:(0,E.jsx)(E.Fragment,{children:(0,E.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"Sunday"})}),sx:{mx:0,width:1,justifyContent:"space-between"}})]})]}),(0,E.jsxs)(Z.Z,{sx:{p:3},children:[(0,E.jsx)(g.Z,{variant:"h6",sx:{color:"text.disabled",mb:3},children:"Time Options:"}),(0,E.jsx)(k.Z,{divider:(0,E.jsx)(T.Z,{flexItem:!0,sx:{borderStyle:"dashed"}}),spacing:3,children:U.map((function(e,n){return(0,E.jsxs)(k.Z,{alignItems:"flex-end",spacing:1.5,children:[(0,E.jsxs)(k.Z,{direction:{xs:"column",md:"row"},spacing:2,sx:{width:1},children:[(0,E.jsx)(B.Cm,{value:R.slot[n].startTime,onChange:function(e){L("slot[".concat(n,"].startTime"),e)},name:"slot[".concat(n,"].startTime"),label:"Start Time"}),(0,E.jsx)(B.Cm,{value:R.slot[n].endTime,onChange:function(e){L("slot[".concat(n,"].endTime"),e)},name:"slot[".concat(n,"].endTime"),label:"End Time"})]}),(0,E.jsx)(C.Z,{size:"small",color:"error",startIcon:(0,E.jsx)(P.Z,{icon:"eva:trash-2-outline"}),onClick:function(){return function(e){q(e)}(n)},children:"Remove"})]},e.id)}))}),(0,E.jsx)(T.Z,{sx:{my:3,borderStyle:"dashed"}}),(0,E.jsx)(k.Z,{spacing:2,direction:{xs:"column-reverse",md:"row"},alignItems:{xs:"flex-start",md:"center"},children:(0,E.jsx)(C.Z,{size:"small",startIcon:(0,E.jsx)(P.Z,{icon:"eva:plus-fill"}),onClick:function(){V({startTime:"",endTime:""})},sx:{flexShrink:0},children:"Add new Option"})})]}),(0,E.jsx)(k.Z,{alignItems:"flex-end",sx:{mt:3},children:(0,E.jsx)(f.Z,{type:"submit",variant:"contained",loading:O,children:n?"Save Changes":"Create Sessions"})})]})})]})})}function L(){var e=(0,d.Z)().themeStretch,n=(0,i.TH)().pathname,t=(0,i.UO)().name,m=void 0===t?"":t,u=(0,r.useState)({}),h=(0,s.Z)(u,2),v=h[0],j=(h[1],n.includes("edit"));return(0,E.jsx)(c.Z,{title:"Sessions: Create a new Sessions",children:(0,E.jsxs)(l.Z,{maxWidth:!e&&"lg",children:[(0,E.jsx)(x.Z,{heading:j?"Edit sessions":"Create a new sessions",links:[{name:"Dashboard",href:o.vB.root},{name:"Sessions",href:o.vB.sessions.list},{name:j?(0,a.I)(m):"New sessions"}]}),(0,E.jsx)(G,{isEdit:j,currentSessions:v})]})})}}}]);
//# sourceMappingURL=6153.7b04e084.chunk.js.map