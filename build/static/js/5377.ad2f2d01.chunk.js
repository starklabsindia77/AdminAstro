"use strict";(self.webpackChunkastroscore=self.webpackChunkastroscore||[]).push([[5377],{18456:function(e,r,t){t.d(r,{Z:function(){return h}});var n=t(1413),a=t(45987),o=t(64554),i=t(20890),s=t(23060),c=t(43504),l=t(93517),u=t(80184),d=["links","activeLast"];function p(e){var r=e.links,t=e.activeLast,s=void 0!==t&&t,c=(0,a.Z)(e,d),p=r[r.length-1].name,g=r.map((function(e){return(0,u.jsx)(m,{link:e},e.name)})),h=r.map((function(e){return(0,u.jsx)("div",{children:e.name!==p?(0,u.jsx)(m,{link:e}):(0,u.jsx)(i.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:p})},e.name)}));return(0,u.jsx)(l.Z,(0,n.Z)((0,n.Z)({separator:(0,u.jsx)(o.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},c),{},{children:s?g:h}))}function m(e){var r=e.link,t=r.href,n=r.name,a=r.icon;return(0,u.jsxs)(s.Z,{variant:"body2",component:c.rU,to:t||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[a&&(0,u.jsx)(o.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:a}),n]},n)}var g=["links","action","heading","moreLink","sx"];function h(e){var r=e.links,t=e.action,c=e.heading,l=e.moreLink,d=void 0===l?[]:l,m=e.sx,h=(0,a.Z)(e,g);return(0,u.jsxs)(o.Z,{sx:(0,n.Z)({mb:5},m),children:[(0,u.jsxs)(o.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,u.jsxs)(o.Z,{sx:{flexGrow:1},children:[(0,u.jsx)(i.Z,{variant:"h4",gutterBottom:!0,children:c}),(0,u.jsx)(p,(0,n.Z)({links:r},h))]}),t&&(0,u.jsx)(o.Z,{sx:{flexShrink:0},children:t})]}),(0,u.jsx)(o.Z,{sx:{mt:2},children:"string"===typeof d?(0,u.jsx)(s.Z,{href:d,target:"_blank",rel:"noopener",variant:"body2",children:d}):d.map((function(e){return(0,u.jsx)(s.Z,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},95377:function(e,r,t){t.r(r),t.d(r,{default:function(){return U}});var n=t(15861),a=t(29439),o=t(64687),i=t.n(o),s=t(72791),c=t(16871),l=t(26445),u=t(20647),d=t(18829),p=t(38072),m=t(85703),g=t(25212),h=t(18456),f=t(93433),v=t(1413),x=t(62797),Z=t(98246),y=t(61134),b=t(61265),j=t(47630),k=t(39709),S=t(20890),w=t(61889),C=t(57621),P=t(53767),R=t(63466),A=t(77353),I=t(89731),N=t(77103),L=t(80184),B=[{label:"Men",value:"Men"},{label:"Women",value:"Women"},{label:"Kids",value:"Kids"}],M=[{group:"Clothing",classify:["Shirts","T-shirts","Jeans","Leather"]},{group:"Tailored",classify:["Suits","Blazers","Trousers","Waistcoats"]},{group:"Accessories",classify:["Shoes","Backpacks and bags","Bracelets","Face masks"]}],T=["Astrology","Numerology","Zodiac","Horoscope","Tarot","Palmistry","NatalChart","AstrologicalSigns","PlanetaryAspects","Psychic","Divination","Spirituality","Mysticism","Occult","Metaphysical","CosmicEnergy","AstrologyHouses","AstrologyTransits","AstrologyCompatibility","NumerologyChart","LifePathNumber","AstrologyForecast","AstrologySymbols","NumerologyReading","TarotReading","Esotericism","Paranormal","AstrologyPlanets","AstrologyAspects","NumerologyNumbers","CrystalHealing","RuneReading","TeaLeafReading","AuraReading","Chakras","Reiki","Meditation","SpiritGuides","Channeling","PastLifeRegression","KarmicAstrology","VedicAstrology","ChineseAstrology","MayanAstrology","DreamInterpretation","AstrologyBirthChart","Synastry","NumerologyLifePath","NumerologyMasterNumbers","MoonSigns","AscendantSigns","SunSigns","AstrologyElements","NumerologyCompatibility","Clairvoyance","EnergyHealing","Intuition","LawOfAttraction","QuantumPhysics","SacredGeometry"],E=(0,j.ZP)(S.Z)((function(e){var r=e.theme;return(0,v.Z)((0,v.Z)({},r.typography.subtitle2),{},{color:r.palette.text.secondary,marginBottom:r.spacing(1)})}));function O(e){var r=e.isEdit,t=e.currentProduct,o=(0,c.s0)(),l=(0,s.useRef)([]),u=(0,s.useState)(),d=(0,a.Z)(u,2),m=d[0],g=d[1],h=(0,Z.Ds)().enqueueSnackbar,v=x.Ry().shape({title:x.Z_().required("Name is required"),description:x.Z_().required("Description is required"),cover:x.nK().required("Cover is required"),price:x.Rx().moreThan(0,"Price should not be $0.00")});function j(e){try{JSON.parse(e)}catch(r){return!1}return!0}var S=(0,s.useMemo)((function(){return{title:(null===t||void 0===t?void 0:t.title)||"",description:(null===t||void 0===t?void 0:t.description)||"",productImages:(null===t||void 0===t?void 0:t.productImages)||[],cover:(null===t||void 0===t?void 0:t.cover)||null,images:j(null===t||void 0===t?void 0:t.images)?JSON.parse(null===t||void 0===t?void 0:t.images):[]||0,code:(null===t||void 0===t?void 0:t.code)||"",sku:(null===t||void 0===t?void 0:t.sku)||"",price:(null===t||void 0===t?void 0:t.price)||0,priceSale:(null===t||void 0===t?void 0:t.priceSale)||0,tags:(null===t||void 0===t?void 0:t.tags)||[T[0]],inStock:!0,taxes:!0,gender:(null===t||void 0===t?void 0:t.gender)||B[2].value,category:(null===t||void 0===t?void 0:t.category)||M[0].classify[1]}}),[t]),O=(0,y.cI)({resolver:(0,b.X)(v),defaultValues:S}),U=O.reset,D=O.watch,z=(O.control,O.setValue),K=O.getValues,q=O.handleSubmit,_=O.formState.isSubmitting,H=D();(0,s.useEffect)((function(){r&&t&&U(S),r||U(S)}),[r,t]);var V=function(){var e=(0,n.Z)(i().mark((function e(r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(t=localStorage.getItem("accessToken"))||!(0,N.w)(t)){e.next=7;break}return(0,N.K)(t),e.next=6,I.Z.post("/products",r);case 6:e.sent;case 7:h("Create success!"),o(p.vB.eCommerce.list),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),W=function(){var e=(0,n.Z)(i().mark((function e(r){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r.id=null===t||void 0===t?void 0:t.id,!(n=localStorage.getItem("accessToken"))||!(0,N.w)(n)){e.next=8;break}return(0,N.K)(n),e.next=7,I.Z.put("/products/".concat(null===t||void 0===t?void 0:t.id),r);case 7:e.sent;case 8:h("Update success!"),o(p.vB.eCommerce.list),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(r){return e.apply(this,arguments)}}(),F=function(){var e=(0,n.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t.images.length===l.current.length?t.productImages=l.current:(t.productImages=l.current.filter((function(e){return t.images.some((function(r){return e.file.name===r.name&&e.file.size===r.size}))})),t.productImages.length>t.images.length&&(t.productImages=t.productImages.slice(0,t.images.length))),t.coverImage=m,r?W(t):V(t)}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),G=(0,s.useCallback)((function(e){var r=H.images||[];e.forEach(function(){var e=(0,n.Z)(i().mark((function e(r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){var n=new FileReader;n.onload=function(){return e({file:r,base64String:n.result.split(",")[1]})},n.onerror=t,n.readAsDataURL(r)}));case 2:t=e.sent,l.current=[].concat((0,f.Z)(l.current),[t]);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),z("images",[].concat((0,f.Z)(r),(0,f.Z)(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))))}),[z,H.images,l.current]),J=(0,s.useCallback)((function(e){var r=e[0],t=new FileReader;t.onload=function(){var e=t.result.split(",")[1];g(e)},t.readAsDataURL(r),r&&z("cover",Object.assign(r,{preview:URL.createObjectURL(r)}))}),[z]);return(0,L.jsx)(A.RV,{methods:O,onSubmit:q(F),children:(0,L.jsxs)(w.ZP,{container:!0,spacing:3,children:[(0,L.jsx)(w.ZP,{item:!0,xs:12,md:8,children:(0,L.jsx)(C.Z,{sx:{p:3},children:(0,L.jsxs)(P.Z,{spacing:3,children:[(0,L.jsx)(A.au,{name:"title",label:"Product Name"}),(0,L.jsxs)("div",{children:[(0,L.jsx)(E,{children:"Description"}),(0,L.jsx)(A.LM,{simple:!0,name:"description"})]}),(0,L.jsxs)("div",{children:[(0,L.jsx)(E,{children:"Additional Images"}),(0,L.jsx)(A.fT,{showPreview:!0,name:"images",accept:"image/*",maxSize:3145728,onDrop:G,onRemove:function(e){var r,t=null===(r=H.images)||void 0===r?void 0:r.filter((function(r){return r!==e}));z("images",t),l.current=l.current.filter((function(r){return r.file!==e}))},onRemoveAll:function(){z("images",[]),l.current=[]},onUpload:function(){return console.log("ON UPLOAD")}})]})]})})}),(0,L.jsx)(w.ZP,{item:!0,xs:12,md:4,children:(0,L.jsxs)(P.Z,{spacing:3,children:[(0,L.jsx)(C.Z,{sx:{p:3},children:(0,L.jsx)(P.Z,{spacing:3,mb:2,children:(0,L.jsxs)("div",{children:[(0,L.jsx)(E,{children:"Cover"}),(0,L.jsx)(A.VK,{name:"cover",accept:"image/*",maxSize:3145728,onDrop:J})]})})}),(0,L.jsxs)(C.Z,{sx:{p:3},children:[(0,L.jsx)(A._e,{name:"inStock",label:"In stock"}),(0,L.jsxs)(P.Z,{spacing:3,mt:2,children:[(0,L.jsx)(A.au,{name:"code",label:"Product Code"}),(0,L.jsx)(A.au,{name:"sku",label:"Product SKU"})]})]}),(0,L.jsxs)(C.Z,{sx:{p:3},children:[(0,L.jsxs)(P.Z,{spacing:3,mb:2,children:[(0,L.jsx)(A.au,{name:"price",label:"Regular Price",placeholder:"0.00",value:0===K("price")?"":K("price"),onChange:function(e){return z("price",Number(e.target.value))},InputLabelProps:{shrink:!0},InputProps:{startAdornment:(0,L.jsx)(R.Z,{position:"start",children:"$"}),type:"number"}}),(0,L.jsx)(A.au,{name:"priceSale",label:"Sale Price",placeholder:"0.00",value:0===K("priceSale")?"":K("priceSale"),onChange:function(e){return z("priceSale",Number(e.target.value))},InputLabelProps:{shrink:!0},InputProps:{startAdornment:(0,L.jsx)(R.Z,{position:"start",children:"$"}),type:"number"}})]}),(0,L.jsx)(A._e,{name:"taxes",label:"Price includes taxes"})]}),(0,L.jsx)(k.Z,{type:"submit",variant:"contained",size:"large",loading:_,children:r?"Save Changes":"Create Product"})]})})]})})}function U(){var e=(0,m.Z)().themeStretch,r=(0,u.I0)(),t=(0,c.TH)().pathname,o=(0,c.UO)().name,f=(0,s.useState)({}),v=(0,a.Z)(f,2),x=v[0],Z=v[1],y=t.includes("edit");return(0,s.useEffect)((0,n.Z)(i().mark((function e(){var r,t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=localStorage.getItem("accessToken"))&&(0,N.w)(r)&&y)){e.next=9;break}return(0,N.K)(r),e.next=5,I.Z.get("/products/".concat(o));case 5:t=e.sent,console.log("response ",t),n=t.data.product,Z(n);case 9:case"end":return e.stop()}}),e)}))),[o]),(0,s.useEffect)((function(){r((0,d.Xp)())}),[r]),(0,L.jsx)(g.Z,{title:"Ecommerce: Create a new product",children:(0,L.jsxs)(l.Z,{maxWidth:!e&&"lg",children:[(0,L.jsx)(h.Z,{heading:y?"Edit product":"Create a new product",links:[{name:"Dashboard",href:p.vB.root},{name:"E-Commerce",href:p.vB.eCommerce.root},{name:y?o:"New product"}]}),(0,L.jsx)(O,{isEdit:y,currentProduct:x})]})})}},93517:function(e,r,t){t.d(r,{Z:function(){return I}});var n=t(93433),a=t(29439),o=t(4942),i=t(87462),s=t(63366),c=t(72791),l=(t(57441),t(28182)),u=t(90767),d=t(47630),p=t(93736),m=t(20890),g=t(12065),h=t(74223),f=t(80184),v=(0,h.Z)((0,f.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),x=t(95080),Z=(0,d.ZP)(x.Z)((function(e){var r=e.theme;return(0,i.Z)({display:"flex",marginLeft:"calc(".concat(r.spacing(1)," * 0.5)"),marginRight:"calc(".concat(r.spacing(1)," * 0.5)")},"light"===r.palette.mode?{backgroundColor:r.palette.grey[100],color:r.palette.grey[700]}:{backgroundColor:r.palette.grey[700],color:r.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,i.Z)({},"light"===r.palette.mode?{backgroundColor:r.palette.grey[200]}:{backgroundColor:r.palette.grey[600]}),"&:active":(0,i.Z)({boxShadow:r.shadows[0]},"light"===r.palette.mode?{backgroundColor:(0,g._4)(r.palette.grey[200],.12)}:{backgroundColor:(0,g._4)(r.palette.grey[600],.12)})})})),y=(0,d.ZP)(v)({width:24,height:16});var b=function(e){var r=e;return(0,f.jsx)("li",{children:(0,f.jsx)(Z,(0,i.Z)({focusRipple:!0},e,{ownerState:r,children:(0,f.jsx)(y,{ownerState:r})}))})},j=t(95159);function k(e){return(0,j.Z)("MuiBreadcrumbs",e)}var S=(0,t(30208).Z)("MuiBreadcrumbs",["root","ol","li","separator"]),w=["children","className","component","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],C=(0,d.ZP)(m.Z,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:function(e,r){return[(0,o.Z)({},"& .".concat(S.li),r.li),r.root]}})({}),P=(0,d.ZP)("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:function(e,r){return r.ol}})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),R=(0,d.ZP)("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:function(e,r){return r.separator}})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function A(e,r,t,n){return e.reduce((function(a,o,i){return i<e.length-1?a=a.concat(o,(0,f.jsx)(R,{"aria-hidden":!0,className:r,ownerState:n,children:t},"separator-".concat(i))):a.push(o),a}),[])}var I=c.forwardRef((function(e,r){var t=(0,p.Z)({props:e,name:"MuiBreadcrumbs"}),o=t.children,d=t.className,m=t.component,g=void 0===m?"nav":m,h=t.expandText,v=void 0===h?"Show path":h,x=t.itemsAfterCollapse,Z=void 0===x?1:x,y=t.itemsBeforeCollapse,j=void 0===y?1:y,S=t.maxItems,R=void 0===S?8:S,I=t.separator,N=void 0===I?"/":I,L=(0,s.Z)(t,w),B=c.useState(!1),M=(0,a.Z)(B,2),T=M[0],E=M[1],O=(0,i.Z)({},t,{component:g,expanded:T,expandText:v,itemsAfterCollapse:Z,itemsBeforeCollapse:j,maxItems:R,separator:N}),U=function(e){var r=e.classes;return(0,u.Z)({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},k,r)}(O),D=c.useRef(null),z=c.Children.toArray(o).filter((function(e){return c.isValidElement(e)})).map((function(e,r){return(0,f.jsx)("li",{className:U.li,children:e},"child-".concat(r))}));return(0,f.jsx)(C,(0,i.Z)({ref:r,component:g,color:"text.secondary",className:(0,l.Z)(U.root,d),ownerState:O},L,{children:(0,f.jsx)(P,{className:U.ol,ref:D,ownerState:O,children:A(T||R&&z.length<=R?z:function(e){return j+Z>=e.length?e:[].concat((0,n.Z)(e.slice(0,j)),[(0,f.jsx)(b,{"aria-label":v,onClick:function(){E(!0);var e=D.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis")],(0,n.Z)(e.slice(e.length-Z,e.length)))}(z),U.separator,N,O)})}))}))}}]);
//# sourceMappingURL=5377.ad2f2d01.chunk.js.map